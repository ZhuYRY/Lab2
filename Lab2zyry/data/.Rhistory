sum/length(Payment)
# library(babynames)
# data(babynames)
# babynames%>%filter(sex=="M",name=="Taylor")%>%
#             select(n)%>%
#             sum/length(n)
PaymentAndValue %>%
filter(Hospitalization.type == "hip/knee replacement") %>%
select(Payment) %>%
sum/length(PaymentAndValue)
# library(babynames)
# data(babynames)
# babynames%>%filter(sex=="M",name=="Taylor")%>%
#             select(n)%>%
#             sum/length(n)
Payment <- PaymentAndValue %>%
filter(Hospitalization.type == "hip/knee replacement") %>%
select(Payment)
mean(Payment$Payment)
# library(babynames)
# data(babynames)
# babynames%>%filter(sex=="M",name=="Taylor")%>%
#             select(n)%>%
#             sum/length(n)
pneumonia <- PaymentAndValue %>%
filter(Hospitalization.type == "peumonia")
t.test(pneumonia$Payment)
pneumonia <- PaymentAndValue %>%
filter(Hospitalization.type == "peumonia")
pneumonia
t.test(pneumonia$Payment)
pneumonia <- PaymentAndValue %>%
filter(Hospitalization.type == "pneumonia")
pneumonia
t.test(pneumonia$Payment)
pneumonia <- PaymentAndValue %>%
filter(Hospitalization.type == "pneumonia")
t.test(pneumonia$Payment)
heart_failure <- PaymentAndValue %>%
filter(Hospitalization.type == "heart failure")
t.test(heart_failure$Payment)
heart_failure <- PaymentAndValue %>%
filter(Hospitalization.type == "heart failure")
t.test(heart_failure$Payment, conf.level = 0.99)
pneumonia <- PaymentAndValue %>%
filter(Hospitalization.type == "pneumonia")
t.test(pneumonia$Payment, conf.level = 0.99)
PaymentAndValue %>%
ggplot(aes(x = Hospitalization.type,
y = Payment,
fill = Hospitalization.type)) +
geom_boxplot() +
labs(x = "Hospitalization Type",
title = "Side-by-side Boxplots for the the payments",
subtitle = "By Hospitalization Type",
fill = "Hospitalization Type")
u_beta = 4/(4+2)
sd_beta = sqrt(4*2/((4+2)^2*(4+2+1)))/sqrt(5)
samp_beta = replicate(10000, {
x = rbeta(5, 4, 2)
mean(x)
})
# density line
x = seq(0, 1.5, length = 10000)
y = dnorm(x, u_beta, sd_beta)
hist(samp_beta, probability = TRUE,
col = "chocolate",
xlab = "sample mean",
main= "sampling distribution of sample mean in Beta(4,2)")
lines(seq(0,1,0.001),
dnorm(seq(0,1,0.001)),
u_beta, sd_beta,
col="dodgerblue")
u_beta = 4/(4+2)
sd_beta = sqrt(4*2/((4+2)^2*(4+2+1)))/sqrt(5)
samp_beta = replicate(10000, {
x = rbeta(5, 4, 2)
mean(x)
})
# density line
x = seq(0, 1.5, length = 10000)
y = dnorm(x, u_beta, sd_beta)
hist(samp_beta, probability = TRUE,
col = "chocolate",
xlab = "sample mean",
main= "sampling distribution of sample mean in Beta(4,2)")
lines(seq(0,1,0.001),
dnorm(seq(0,1,0.001), u_beta, sd_beta),
col="dodgerblue")
#lines(density(y), col="dodgerblue", lwd=4)
#plot(function(x) dnorm(x, u_beta, sd_beta), col="dodgerblue", lwd=4)
u_beta = 4/(4+2)
sd_beta = sqrt(4*2/((4+2)^2*(4+2+1)))/sqrt(5)
samp_beta = replicate(10000, {
x = rbeta(5, 4, 2)
mean(x)
})
# density line
x = seq(0, 1.5, length = 10000)
y = dnorm(x, u_beta, sd_beta)
hist(samp_beta, probability = TRUE,
col = "chocolate",
xlab = "sample mean",
main= "sampling distribution of sample mean in Beta(4,2)")
lines(seq(0,1,0.001),
dnorm(seq(0,1,0.001), u_beta, sd_beta),
col="dodgerblue", lwd=4)
#lines(density(y), col="dodgerblue", lwd=4)
#plot(function(x) dnorm(x, u_beta, sd_beta), col="dodgerblue", lwd=4)
u_beta = 4/(4+2)
sd_beta = sqrt(4*2/((4+2)^2*(4+2+1)))/sqrt(5)
samp_beta = replicate(10000, {
x = rbeta(5, 4, 2)
mean(x)
})
# density line
hist(samp_beta, probability = TRUE,
col = "chocolate",
xlab = "sample mean",
main= "sampling distribution of sample mean in Beta(4,2)")
lines(seq(0,1,0.001),
dnorm(seq(0,1,0.001), u_beta, sd_beta),
col="dodgerblue", lwd=4)
samp_beta_d = replicate(10000, {
x = rbeta(30, 4, 2)
mean(x)
})
hist(samp_betd, probability = TRUE,
col = "chocolate",
xlab = "sample mean",
main= "sampling distribution of sample mean in Beta(4,2)")
samp_beta_d = replicate(10000, {
x = rbeta(30, 4, 2)
mean(x)
})
hist(samp_bet_d, probability = TRUE,
col = "chocolate",
xlab = "sample mean",
main= "sampling distribution of sample mean in Beta(4,2)")
samp_beta_d = replicate(10000, {
x = rbeta(30, 4, 2)
mean(x)
})
hist(samp_beta_d, probability = TRUE,
col = "chocolate",
xlab = "sample mean",
main= "sampling distribution of sample mean in Beta(4,2)")
lines(seq(0,1,0.001),
dnorm(seq(0,1,0.001), u_beta, sd_beta),
col="dodgerblue", lwd=4)
samp_beta_d = replicate(10000, {
x = rbeta(30, 4, 2)
mean(x)
})
sd_beta = sqrt(4*2/((4+2)^2*(4+2+1)))/sqrt(30)
hist(samp_beta_d, probability = TRUE,
col = "chocolate",
xlab = "sample mean",
main= "sampling distribution of sample mean in Beta(4,2)")
lines(seq(0,1,0.001),
dnorm(seq(0,1,0.001), u_beta, sd_beta),
col="dodgerblue", lwd=4)
u_beta = 4/(4+2)
sd_beta = sqrt(4*2/((4+2)^2*(4+2+1)))/sqrt(5)
samp_beta = replicate(10000, {
x = rbeta(5, 4, 2)
mean(x)
})
# density line
hist(samp_beta, probability = TRUE,
col = "chocolate",
xlab = "sample mean",
main= "sampling distribution of sample mean in Beta(4,2)")
lines(seq(0,1,0.001),
dnorm(seq(0,1,0.0001), u_beta, sd_beta),
col="dodgerblue", lwd=4)
u_beta = 4/(4+2)
sd_beta = sqrt(4*2/((4+2)^2*(4+2+1)))/sqrt(5)
samp_beta = replicate(10000, {
x = rbeta(5, 4, 2)
mean(x)
})
# density line
hist(samp_beta, probability = TRUE,
col = "chocolate",
xlab = "sample mean",
main= "sampling distribution of sample mean in Beta(4,2)")
lines(seq(0,1,0.0001),
dnorm(seq(0,1,0.0001), u_beta, sd_beta),
col="dodgerblue", lwd=4)
u_beta = 4/(4+2)
sd_beta = sqrt(4*2/((4+2)^2*(4+2+1)))/sqrt(5)
samp_beta = replicate(10000, {
x = rbeta(5, 4, 2)
mean(x)
})
# density line
hist(samp_beta, probability = TRUE,
col = "chocolate",
xlab = "sample mean",
main= "sampling distribution of sample mean in Beta(4,2)")
lines(seq(0,1,0.001),
dnorm(seq(0,1,0.001), u_beta, sd_beta),
col="dodgerblue", lwd=4)
a4 = round(1 - pnorm(281, mean = 280, sd = 10), 3)
paste("The chance that the gestation time of one of the randomly selected women will be greater than or equal to 282 days is", a4)
?pnorm
a4 = round(pnorm(282, mean = 280, sd = 10, lower.tail = FALSE), 3)
paste("The chance that the gestation time of one of the randomly selected women will be greater than or equal to 282 days is", a4)
a4 = round(pnorm(282, mean = 280, sd = 10, lower.tail = FALSE), 3)
paste("The chance that the gestation time of one of the randomly selected women will be greater than or equal to 282 days is", a4)
b4 = round(pnorm(282, mean = 280, sd = 10/sqrt(50), lower.tail = FALSE),3)
paste("The chance that the average gestation time of 50 women is greater than or equal to 282 days", b4)
p_val = pnorm(275, 280, 10/sqrt(50))
p_val
p_val = pnorm(275, 280, 10/sqrt(50))*2
p_val
p_val = pnorm(275, 280, 10/sqrt(50))*2
p_val
paste("The p-value is", p_val)
a4 = round(1-pnorm(281, mean = 280, sd = 10), 3)
paste("The chance that the gestation time of one of the randomly selected women will be greater than or equal to 282 days is", a4)
b4 = round(1-pnorm(281, mean = 280, sd = 10/sqrt(50)),3)
paste("The chance that the average gestation time of 50 women is greater than or equal to 282 days", b4)
install.packages("tidytuesdayR")
knitr::opts_chunk$set(echo = TRUE)
# load in Packages and data
tuesdata <- tidytuesdayR::tt_load('2020-07-07')
tuesdata <- tidytuesdayR::tt_load(2020, week = 28)
coffee_ratings <- tuesdata$coffee_ratings
?labs
??labs()
library(readr)
data <- read_csv("Desktop/5018_DataScience1/Lab/Lab2/Inpatient_Prospective_Payment_System__IPPS__Provider_Summary_for_the_Top_100_Diagnosis-Related_Groups__DRG__-_FY2011.csv")
View(data)
#'
#' @param df a dataframe (Given dataframe: Inpatient_Prospective_Payment)
#' @param var_name "Average.Total.Payments", "Average.Covered.Charges", "Average.Medicare.Payments"
#'
#' @return a boxplot by DRG codes
#' @import ggplot2, dplyr
#'
#' @export
#'
#' @examples
boxplot_f <- function(df, var_name) {
title = paste("Boxplot of DRG code vs.", gsub('\\.', ' ', var_name))
df %>%
# Select only first 3 digits of DRG code
mutate(DRG.Num = substr(df$DRG.Definition, 0, 3)) %>%
# Initialize ggplot with x = DRG code, y = chosen variable
ggplot(aes(x = DRG.Num, y = get(var_name))) +
# Make the boxplot
geom_boxplot() +
#
labs(x = "DRG code",
y = gsub('\\.', ' ', var_name),
title = title) +
coord_flip()
}
boxplot_f(data,"Average.Total.Payments" )
library(ggplot2)
boxplot_f(data,"Average.Total.Payments" )
library(dplyr)
boxplot_f(data,"Average.Total.Payments" )
data = as.data.frame(data)
boxplot_f(data,"Average.Total.Payments" )
View(data)
#'
#' @param df a dataframe (Given dataframe: Inpatient_Prospective_Payment)
#' @param var_name "Average.Total.Payments", "Average.Covered.Charges", "Average.Medicare.Payments"
#'
#' @return a boxplot by DRG codes
#' @import ggplot2, dplyr
#'
#' @export
#'
#' @examples
boxplot_f <- function(df, var_name) {
title = paste("Boxplot of DRG code vs.", gsub('\\.', ' ', var_name))
df %>%
# Select only first 3 digits of DRG code
mutate(DRG.Num = substr(df$DRG Definition, 0, 3)) %>%
# Initialize ggplot with x = DRG code, y = chosen variable
ggplot(aes(x = DRG.Num, y = get(var_name))) +
# Make the boxplot
geom_boxplot() +
#
labs(x = "DRG code",
y = gsub('\\.', ' ', var_name),
title = title) +
coord_flip()
}
library(ggplot2)
library(dplyr)
#'
#' @param df a dataframe (Given dataframe: Inpatient_Prospective_Payment)
#' @param var_name "Average.Total.Payments", "Average.Covered.Charges", "Average.Medicare.Payments"
#'
#' @return a boxplot by DRG codes
#' @import ggplot2, dplyr
#'
#' @export
#'
#' @examples
boxplot_f <- function(df, var_name) {
title = paste("Boxplot of DRG code vs.", gsub('\\.', ' ', var_name))
df %>%
# Select only first 3 digits of DRG code
mutate(DRG.Num = substr(df$DRG Definition, 0, 3)) %>%
# Initialize ggplot with x = DRG code, y = chosen variable
ggplot(aes(x = DRG.Num, y = get(var_name))) +
# Make the boxplot
geom_boxplot() +
#
labs(x = "DRG code",
y = gsub('\\.', ' ', var_name),
title = title) +
coord_flip()
}
#' @examples
#'
#' @param df a dataframe (Given dataframe: Inpatient_Prospective_Payment)
#' @param var_name "Average.Total.Payments", "Average.Covered.Charges", "Average.Medicare.Payments"
#'
#' @return a boxplot by DRG codes
#' @import ggplot2, dplyr
#'
#' @export
#'
#' @examples
boxplot_f <- function(df, var_name) {
title = paste("Boxplot of DRG code vs.", gsub('\\.', ' ', var_name))
df %>%
# Select only first 3 digits of DRG code
mutate(DRG.Num = substr(df$DRG Definition, 0, 3)) %>%
# Initialize ggplot with x = DRG code, y = chosen variable
ggplot(aes(x = DRG.Num, y = get(var_name))) +
# Make the boxplot
geom_boxplot() +
#
labs(x = "DRG code",
y = gsub('\\.', ' ', var_name),
title = title) +
coord_flip()
}
library(ggplot2)
library(dplyr)
boxplot_f(data,"Average Total Payments" )
#'
#' @param df a dataframe (Given dataframe: Inpatient_Prospective_Payment)
#' @param var_name "Average.Total.Payments", "Average.Covered.Charges", "Average.Medicare.Payments"
#'
#' @return a boxplot by DRG codes
#' @import ggplot2, dplyr
#'
#' @export
#'
#' @examples
boxplot_f <- function(df, var_name) {
title = paste("Boxplot of DRG code vs.", gsub('\\.', ' ', var_name))
df %>%
# Select only first 3 digits of DRG code
mutate(DRG.Num = substr(df$'DRG Definition', 0, 3)) %>%
# Initialize ggplot with x = DRG code, y = chosen variable
ggplot(aes(x = DRG.Num, y = get(var_name))) +
# Make the boxplot
geom_boxplot() +
#
labs(x = "DRG code",
y = gsub('\\.', ' ', var_name),
title = title) +
coord_flip()
}
library(ggplot2)
library(dplyr)
boxplot_f(data,"Average Total Payments" )
knitr::opts_chunk$set(echo = TRUE)
bony_mets = read.csv("bony_mets.csv")
head(bony_mets)
View(bony_mets)
summary(bony_mets$months_from_bony_met_dx_to_1st_sre)
library(ggplot2)
library(dplyr)
bony_mets %>%
filter(is.na(months_from_bony_met_dx_to_1st_sre) == FALSE)
bony_mets %>%
filter(is.na(months_from_bony_met_dx_to_1st_sre) == FALSE) %>%
ggplot(aes(x = months_from_bony_met_dx_to_1st_sre)) +
geom_bar()
bony_mets %>%
filter(is.na(months_from_bony_met_dx_to_1st_sre) == FALSE) %>%
ggplot(aes(x = months_from_bony_met_dx_to_1st_sre)) +
geom_boxplot()
bony_mets %>%
filter(is.na(months_from_bony_met_dx_to_1st_sre) == FALSE) %>%
ggplot(aes(x = months_from_bony_met_dx_to_1st_sre)) +
geom_histogram()
bony_mets %>%
filter(is.na(months_from_bony_met_dx_to_1st_sre) == FALSE) %>%
sum(months_from_bony_met_dx_to_1st_sre <= 12)/length(months_from_bony_met_dx_to_1st_sre)
bony_mets %>%
filter(is.na(months_from_bony_met_dx_to_1st_sre) == FALSE) %>%
sum(months_from_bony_met_dx_to_1st_sre <= 12)
bony_mets %>%
filter(is.na(months_from_bony_met_dx_to_1st_sre) == FALSE)
data = bony_mets %>%
filter(is.na(months_from_bony_met_dx_to_1st_sre) == FALSE)
sum(data$months_from_bony_met_dx_to_1st_sre <= 12)
length(data$months_from_bony_met_dx_to_1st_sre)
data = bony_mets %>%
filter(is.na(months_from_bony_met_dx_to_1st_sre) == FALSE) %>%
prop = sum(data$months_from_bony_met_dx_to_1st_sre <= 12)/length(data$months_from_bony_met_dx_to_1st_sre)
data = bony_mets %>%
filter(is.na(months_from_bony_met_dx_to_1st_sre) == FALSE)
prop = sum(data$months_from_bony_met_dx_to_1st_sre <= 12)/length(data$months_from_bony_met_dx_to_1st_sre)
prop
bony_mets %>%
ggplot(aes(x = antiresportive_therapy)) +
geom_bar()
knitr::opts_chunk$set(echo = TRUE)
diff_chol = c(-68, -38, -32, -5, 92, -6, -58, -21, -41, -66)
?t.test
diff_chol = c(-68, -38, -32, -5, 92, -6, -58, -21, -41, -66)
result = t.test(diff_chol, alternative = "less", conf.level = 0.025)
result
diff_chol = c(-68, -38, -32, -5, 92, -6, -58, -21, -41, -66)
result = t.test(diff_chol, alternative = "less", conf.level = 0.975)
result
diff_chol = c(-68, -38, -32, -5, 92, -6, -58, -21, -41, -66)
result = t.test(diff_chol, alternative = "less", conf.level = 0.975)
result
diff_chol = c(-68, -38, -32, -5, 92, -6, -58, -21, -41, -66)
result = t.test(diff_chol, alternative = "less", conf.level = 0.975)
result$statistic
paste("The t-statistics is ", result$statistic)
paste("The p-value is", result$p.value)
paste("The p-value is", round(result$p.value,3))
diff_chol = c(-68, -38, -32, -5, 92, -6, -58, -21, -41, -66)
result = t.test(diff_chol, alternative = "less", conf.level = 0.975, mu = 0)
paste("The t-statistics is", result$statistic)
diff_chol = c(-68, -38, -32, -5, 92, -6, -58, -21, -41, -66)
result = t.test(diff_chol, alternative = "less", conf.level = 0.975, mu = 0)
paste("The t-statistics is", round(result$statistic, 3))
?boot
??boot
library(boot)
B = 10000
t_stats <- function(x, idx) {
x_bar = mean(x[idx])
x_sd = sd(x[idx])
return(x_bar/(x_sd/sqrt(9)))
}
bootObj = boot(diff_chol, t_stats, B)
bootObj
hist(bootObj$t[,1], probability = TRUE, breaks=20, col="chocolate", xlab="sample mean",
ylab = "probability", main = "Bootstrap sampling distribution of sample mean")
lines(density(bootObj$t[,1]), col="dodgerblue", lwd=3)
legend("topright", "density", col="dodgerblue", lwd=3)
library(Lab2zyry)
attach(Inpatient_Prospective_Payment_System__IPPS__Provider_Summary_for_the_Top_100_Diagnosis-Related_Groups__DRG__-_FY2011.RData)
attach(Inpatient_Prospective_Payment_System__IPPS__Provider_Summary_for_the_Top_100_Diagnosis-Related_Groups__DRG__-_FY2011.RData)
setwd("~/Desktop/5018_DataScience1/Lab/Lab2/Lab2_ZYRY/Lab2zyry")
document()
library(devtools)
library(roxygen2)
document()
rm(list = c("boxplot_f"))
document()
setwd("~/Desktop/5018_DataScience1/Lab/Lab2/Lab2_ZYRY/Lab2zyry")
document()
setwd('..')
install('Lab2zyry')
View(Payments)
data(Payments)
Payments
Payments <- data(Payments)
Payments
View(Payment)
sample(Payments)
setwd('..')
install('Lab2zyry')
setwd("~/Desktop/5018_DataScience1/Lab/Lab2/Lab2_ZYRY/Lab2zyry")
setwd('..')
install('Lab2zyry')
sample(Payments)
sample(Payments)
library(Lab2zyry)
read_rds(Payments)
library(Lab2zyry)
load("Payments.RData")
load(Payments)
setwd("~/Desktop/5018_DataScience1/Lab/Lab2/Lab2_ZYRY/Lab2zyry")
document()
setwd('..')
install('Lab2zyry')
setwd("~/Desktop/5018_DataScience1/Lab/Lab2/Lab2_ZYRY/Lab2zyry")
document()
setwd('..')
install('Lab2zyry')
data(Payments)
boxplot_f(Payments, "Average.Total.Payments")
boxplot_f(df, "Average.Total.Payments")
setwd("~/Desktop/5018_DataScience1/Lab/Lab2/Lab2_ZYRY/Lab2zyry")
document()
setwd('..')
install('Lab2zyry')
setwd("~/Desktop/5018_DataScience1/Lab/Lab2/Lab2_ZYRY/Lab2zyry/data")
Payments = data(Payments.RData)
Payments = load(Payments.RData)
Payments = load('Payments.RData')
statistics_f(Payments, mean)
